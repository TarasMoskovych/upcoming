<app-header></app-header>

<ion-content>
  <ng-container *ngIf="movie">
    <div class="movie-img">
      <ion-img [src]="'https://image.tmdb.org/t/p/w780/' + movie.poster_path" [alt]="movie.title"></ion-img>
    </div>

    <div>
      <ion-grid>
        <ion-row>
          <ion-col col-6>
            <h4>Rating</h4>
            <p>{{ movie.vote_average | number: '1.1-1' }}</p>
          </ion-col>
          <ion-col col-6>
            <h4>Genre</h4>
            <p>{{ movie.genres[0].name }}</p>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-6>
            <h4>Website</h4>
            <ion-button [href]="movie.homepage">Visit</ion-button>
          </ion-col>
          <ion-col col-6>
            <h4>Release Date</h4>
            <p>{{ movie.release_date | date: 'mediumDate' }}</p>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>

    <ion-card padding>
      <h4>Overview</h4>
      <p>{{ movie.overview }}</p>
    </ion-card>

    <ng-container *ngIf="images$ | async as images">
      <ion-grid>
        <ion-row>
          <ion-col col-12>
            <h5>Screenshots</h5>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-slides scrollbar="true">
        <ion-slide *ngFor="let image of images">
          <ion-img [src]="'https://image.tmdb.org/t/p/w780/' + image.file_path" alt="Image"></ion-img>
        </ion-slide>
      </ion-slides>
    </ng-container>

    <ng-container *ngIf="videos$ | async as videos">
      <ion-grid>
        <ion-row>
          <ion-col col-12>
            <h5>Videos</h5>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-list>
        <ion-item *ngFor="let video of videos">
          <ion-button slot="start" size="small">
            <ion-icon slot="icon-only" name="play"></ion-icon>
          </ion-button>
          <ion-label>{{ video.name }}</ion-label>
        </ion-item>
      </ion-list>
    </ng-container>

  </ng-container>
</ion-content>
