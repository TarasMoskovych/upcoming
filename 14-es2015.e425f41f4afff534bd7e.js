(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{cvJE:function(l,t,n){"use strict";n.r(t);var e=n("8Y7J"),r=n("ZZ/e"),o=n("Zr1d");n("dJ3e");class i{constructor(l,t){this.storageService=l,this.keyboard=t,this.favorites=[],this.search=[]}ngOnInit(){this.getFavorites()}onRemoveFromFavorites(l){this.storageService.remove(l).then(()=>{this.getFavorites(),this.virtualScroll&&this.virtualScroll.checkEnd()})}onSearch(){this.keyboard.hide()}onChange(l){if(""===l)return this.onClear();this.favorites=this.search.filter(t=>-1!==t.title.search(new RegExp(l,"i")))}onClear(){this.favorites=[...this.search]}onToggleArrows(l){this.favorites=[...this.favorites.sort(l?this.sortByTitle:this.sortByAverage)]}isExists(l){return this.storageService.checkExisting(l)}itemHeightFn(){return 200}getFavorites(){this.storageService.getFavorites().then(l=>{l&&l.length?this.favorites=[...l]:this.favorites.length=0,this.search=[...this.favorites]})}sortByAverage(l,t){return+t.vote_average-+l.vote_average}sortByTitle(l,t){return l.title.localeCompare(t.title)}}class a{}var s=n("pMnS"),u=n("6MRr"),c=n("DKdE"),b=n("5gP/"),h=n("oBZk"),v=n("WE+f"),g=n("aZ8m"),m=n("XOzN"),p=n("S0jo"),f=n("SVse"),F=n("UYTb"),A=e.pb({encapsulation:0,styles:[["ion-text[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function x(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-movie",[],null,[[null,"removeFromFavorites"]],function(l,t,n){var e=!0;return"removeFromFavorites"===t&&(e=!1!==l.component.onRemoveFromFavorites(n)&&e),e},u.b,u.a)),e.qb(1,49152,null,0,c.a,[b.a],{movie:[0,"movie"],isExists:[1,"isExists"]},{removeFromFavorites:"removeFromFavorites"})],function(l,t){l(t,1,0,t.context.$implicit,t.component.isExists(t.context.$implicit.id))},null)}function d(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),e.rb(1,0,null,null,6,"ion-virtual-scroll",[["approxItemHeight","200px"]],null,null,null,h.hb,h.D)),e.qb(2,835584,[[1,4]],3,r.Cb,[e.x,e.q,e.k],{approxItemHeight:[0,"approxItemHeight"],items:[1,"items"],itemHeight:[2,"itemHeight"]},null),e.Hb(335544320,2,{itmTmp:0}),e.Hb(335544320,3,{hdrTmp:0}),e.Hb(335544320,4,{ftrTmp:0}),(l()(),e.gb(16777216,null,0,1,null,x)),e.qb(7,16384,[[2,4]],0,r.Mb,[e.J,e.M],null,null)],function(l,t){var n=t.component;l(t,2,0,"200px",n.favorites,n.itemHeightFn)},null)}function w(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"ion-text",[["color","primary"]],null,null,null,h.cb,h.y)),e.qb(1,49152,null,0,r.wb,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.rb(2,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Favorites list is empty!"]))],function(l,t){l(t,1,0,"primary")},null)}function y(l){return e.Lb(0,[e.Hb(671088640,1,{virtualScroll:0}),(l()(),e.rb(1,0,null,null,1,"app-header",[["staticTitle","Favorites"]],null,[[null,"searchItems"],[null,"change"],[null,"clear"],[null,"toggleArrows"]],function(l,t,n){var e=!0,r=l.component;return"searchItems"===t&&(e=!1!==r.onSearch()&&e),"change"===t&&(e=!1!==r.onChange(n)&&e),"clear"===t&&(e=!1!==r.onClear()&&e),"toggleArrows"===t&&(e=!1!==r.onToggleArrows(n)&&e),e},v.b,v.a)),e.qb(2,49152,null,0,g.a,[m.a,p.a,o.a],{staticTitle:[0,"staticTitle"],showSecondaryButtons:[1,"showSecondaryButtons"]},{toggleArrows:"toggleArrows",searchItems:"searchItems",clear:"clear",change:"change"}),(l()(),e.rb(3,0,null,null,4,"ion-content",[],null,null,null,h.M,h.i)),e.qb(4,49152,null,0,r.u,[e.h,e.k,e.x],null,null),(l()(),e.gb(16777216,null,0,1,null,d)),e.qb(6,16384,null,0,f.l,[e.M,e.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),e.gb(0,[["empty",2]],0,0,null,w))],function(l,t){var n=t.component;l(t,2,0,"Favorites",!1),l(t,6,0,n.favorites.length>0,e.Cb(t,7))},null)}function S(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-favorites",[],null,null,null,y,A)),e.qb(1,114688,null,0,i,[F.a,o.a],null,null)],function(l,t){l(t,1,0)},null)}var I=e.nb("app-favorites",i,S,{},{},[]),E=n("s7LF"),k=n("iInd"),H=n("PCNd");n.d(t,"FavoritesPageModuleNgFactory",function(){return T});var T=e.ob(a,[],function(l){return e.zb([e.Ab(512,e.j,e.Z,[[8,[s.a,I]],[3,e.j],e.v]),e.Ab(4608,f.n,f.m,[e.s,[2,f.t]]),e.Ab(4608,E.g,E.g,[]),e.Ab(4608,r.a,r.a,[e.x,e.g]),e.Ab(4608,r.Gb,r.Gb,[r.a,e.j,e.p]),e.Ab(4608,r.Jb,r.Jb,[r.a,e.j,e.p]),e.Ab(1073742336,f.c,f.c,[]),e.Ab(1073742336,k.o,k.o,[[2,k.t],[2,k.m]]),e.Ab(1073742336,E.f,E.f,[]),e.Ab(1073742336,E.a,E.a,[]),e.Ab(1073742336,r.Db,r.Db,[]),e.Ab(1073742336,H.a,H.a,[]),e.Ab(1073742336,a,a,[]),e.Ab(1024,k.k,function(){return[[{path:"",component:i}]]},[])])})}}]);