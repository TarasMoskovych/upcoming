(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{cvJE:function(t,n,e){"use strict";e.r(n);var l=e("CcnG"),o=e("ZZ/e"),r=e("Zr1d"),i=(e("dJ3e"),function(){function t(t,n){this.storageService=t,this.keyboard=n,this.favorites=[],this.search=[]}return t.prototype.ngOnInit=function(){this.getFavorites()},t.prototype.onRemoveFromFavorites=function(t){var n=this;this.storageService.remove(t).then(function(){n.getFavorites(),n.virtualScroll&&n.virtualScroll.checkEnd()})},t.prototype.onSearch=function(){this.keyboard.hide()},t.prototype.onChange=function(t){if(""===t)return this.onClear();this.favorites=this.search.filter(function(n){return-1!==n.title.search(new RegExp(t,"i"))})},t.prototype.onClear=function(){this.favorites=this.search.slice()},t.prototype.onToggleArrows=function(t){this.favorites=this.favorites.sort(t?this.sortByTitle:this.sortByAverage).slice()},t.prototype.isExists=function(t){return this.storageService.checkExisting(t)},t.prototype.itemHeightFn=function(){return 200},t.prototype.getFavorites=function(){var t=this;this.storageService.getFavorites().then(function(n){n&&n.length?t.favorites=n.slice():t.favorites.length=0,t.search=t.favorites.slice()})},t.prototype.sortByAverage=function(t,n){return+n.vote_average-+t.vote_average},t.prototype.sortByTitle=function(t,n){return t.title.localeCompare(n.title)},t}()),u=function(){return function(){}}(),a=e("pMnS"),s=e("6MRr"),c=e("DKdE"),b=e("5gP/"),p=e("oBZk"),h=e("WE+f"),v=e("aZ8m"),f=e("XOzN"),g=e("S0jo"),m=e("Ip0R"),y=e("UYTb"),C=l.rb({encapsulation:0,styles:[["ion-text[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function F(t){return l.Nb(0,[(t()(),l.tb(0,0,null,null,1,"app-movie",[],null,[[null,"removeFromFavorites"]],function(t,n,e){var l=!0;return"removeFromFavorites"===n&&(l=!1!==t.component.onRemoveFromFavorites(e)&&l),l},s.b,s.a)),l.sb(1,49152,null,0,c.a,[b.a],{movie:[0,"movie"],isExists:[1,"isExists"]},{removeFromFavorites:"removeFromFavorites"})],function(t,n){t(n,1,0,n.context.$implicit,n.component.isExists(n.context.$implicit.id))},null)}function d(t){return l.Nb(0,[(t()(),l.tb(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),l.tb(1,0,null,null,6,"ion-virtual-scroll",[["approxItemHeight","200px"]],null,null,null,p.hb,p.D)),l.sb(2,835584,[[1,4]],3,o.Cb,[l.z,l.s,l.k],{approxItemHeight:[0,"approxItemHeight"],items:[1,"items"],itemHeight:[2,"itemHeight"]},null),l.Jb(335544320,2,{itmTmp:0}),l.Jb(335544320,3,{hdrTmp:0}),l.Jb(335544320,4,{ftrTmp:0}),(t()(),l.ib(16777216,null,0,1,null,F)),l.sb(7,16384,[[2,4]],0,o.Mb,[l.L,l.O],null,null)],function(t,n){var e=n.component;t(n,2,0,"200px",e.favorites,e.itemHeightFn)},null)}function x(t){return l.Nb(0,[(t()(),l.tb(0,0,null,null,3,"ion-text",[["color","primary"]],null,null,null,p.cb,p.y)),l.sb(1,49152,null,0,o.wb,[l.h,l.k,l.z],{color:[0,"color"]},null),(t()(),l.tb(2,0,null,0,1,"p",[],null,null,null,null,null)),(t()(),l.Lb(-1,null,["Favorites list is empty!"]))],function(t,n){t(n,1,0,"primary")},null)}function w(t){return l.Nb(0,[l.Jb(671088640,1,{virtualScroll:0}),(t()(),l.tb(1,0,null,null,1,"app-header",[["staticTitle","Favorites"]],null,[[null,"searchItems"],[null,"change"],[null,"clear"],[null,"toggleArrows"]],function(t,n,e){var l=!0,o=t.component;return"searchItems"===n&&(l=!1!==o.onSearch()&&l),"change"===n&&(l=!1!==o.onChange(e)&&l),"clear"===n&&(l=!1!==o.onClear()&&l),"toggleArrows"===n&&(l=!1!==o.onToggleArrows(e)&&l),l},h.b,h.a)),l.sb(2,49152,null,0,v.a,[f.a,g.a,r.a],{staticTitle:[0,"staticTitle"],showSecondaryButtons:[1,"showSecondaryButtons"]},{toggleArrows:"toggleArrows",searchItems:"searchItems",clear:"clear",change:"change"}),(t()(),l.tb(3,0,null,null,4,"ion-content",[],null,null,null,p.M,p.i)),l.sb(4,49152,null,0,o.u,[l.h,l.k,l.z],null,null),(t()(),l.ib(16777216,null,0,1,null,d)),l.sb(6,16384,null,0,m.l,[l.O,l.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),l.ib(0,[["empty",2]],0,0,null,x))],function(t,n){var e=n.component;t(n,2,0,"Favorites",!1),t(n,6,0,e.favorites.length>0,l.Eb(n,7))},null)}function I(t){return l.Nb(0,[(t()(),l.tb(0,0,null,null,1,"app-favorites",[],null,null,null,w,C)),l.sb(1,114688,null,0,i,[y.a,r.a],null,null)],function(t,n){t(n,1,0)},null)}var E=l.pb("app-favorites",i,I,{},{},[]),S=e("gIcY"),k=e("ZYCi"),T=e("PCNd");e.d(n,"FavoritesPageModuleNgFactory",function(){return J});var J=l.qb(u,[],function(t){return l.Bb([l.Cb(512,l.j,l.bb,[[8,[a.a,E]],[3,l.j],l.x]),l.Cb(4608,m.n,m.m,[l.u,[2,m.t]]),l.Cb(4608,S.g,S.g,[]),l.Cb(4608,o.a,o.a,[l.z,l.g]),l.Cb(4608,o.Gb,o.Gb,[o.a,l.j,l.q]),l.Cb(4608,o.Jb,o.Jb,[o.a,l.j,l.q]),l.Cb(1073742336,m.c,m.c,[]),l.Cb(1073742336,k.o,k.o,[[2,k.t],[2,k.m]]),l.Cb(1073742336,S.f,S.f,[]),l.Cb(1073742336,S.a,S.a,[]),l.Cb(1073742336,o.Db,o.Db,[]),l.Cb(1073742336,T.a,T.a,[]),l.Cb(1073742336,u,u,[]),l.Cb(1024,k.k,function(){return[[{path:"",component:i}]]},[])])})}}]);